{"id":"wt-1mb","title":"Test project lookup","status":"closed","priority":4,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:53:59.622572+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T09:55:23.339977+05:30","closed_at":"2026-01-19T09:55:23.339977+05:30","close_reason":"Test bead, no longer needed"}
{"id":"wt-1qy","title":"Docs: Focus on hub workflows, add sample scenarios","description":"Improve docs to focus more on user workflows than CLI commands:\n\n1. **Hub-centric documentation**: Users don't directly use CLI, they use the hub.\n   Docs should focus on hub/conversations rather than individual commands.\n\n2. **Sample workflows**: Add practical workflow examples:\n   - Safe changes (PR review mode)\n   - YOLO mode (direct merge)\n   - Grooming sessions\n   - Parallel workers\n   - Session handoff\n\n3. **Move SPEC to docs**: SPEC.md could be a doc page (reference/spec.md)\n   to keep technical details with user docs.","status":"open","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T20:15:07.476669+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T20:15:07.476669+05:30"}
{"id":"wt-1zk","title":"TUI session picker with keyboard navigation","description":"Replace fzf-based C-b s session picker with a proper TUI that has keyboard navigation similar to wt watch. More consistent UX across wt tooling.","status":"open","priority":3,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T19:36:25.704946+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T19:36:25.704946+05:30"}
{"id":"wt-2ls","title":"Phase 3: Test environment","description":"Implement optional per-worktree test environments with configurable hooks.\n\n## Key Principle\nTest environment is completely optional. wt works without any test_env config.\n\n## Skill-Assisted Setup\nThe wt skill can:\n- Ask user if they need a test environment for the worktree\n- Detect project type (Node, Go, Python, etc.) and suggest appropriate setup\n- Help generate setup/teardown scripts based on project needs\n\n## Core Responsibilities (wt handles, when enabled)\n- Port offset allocation and tracking\n- Export PORT_OFFSET environment variable\n- Call user-defined hooks if configured\n\n## Configuration (.wt.toml)\n```toml\n[test_env]\nenabled = true  # default: false\nport_offset_base = 1000\nport_offset_step = 100\n\n# User-defined hooks (optional)\nsetup_cmd = \"./scripts/test-setup.sh\"\nteardown_cmd = \"./scripts/test-teardown.sh\"\nhealth_check_cmd = \"./scripts/health-check.sh\"\n```\n\n## Behavior (when test_env.enabled = true)\n- On `wt new`: allocate port offset, set PORT_OFFSET, call setup_cmd if defined\n- On `wt close/kill`: call teardown_cmd if defined, release port offset\n- Health check: call health_check_cmd if defined, with configurable timeout/retries\n\n## Design Principles\n- Keep wt's role minimal - provide offset and call hooks\n- Don't impose test env overhead on projects that don't need it\n- Let skill handle interactive setup and smart suggestions","status":"closed","priority":1,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:32:09.36879+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T10:10:48.878989+05:30","closed_at":"2026-01-19T10:10:48.878989+05:30","close_reason":"Implemented optional test environment with port offset allocation, setup/teardown hooks, and health checks","dependencies":[{"issue_id":"wt-2ls","depends_on_id":"wt-5a7","type":"blocks","created_at":"2026-01-19T09:32:21.045605+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-3tf","title":"Test session for wt","status":"closed","priority":4,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:41:00.574802+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T09:41:46.879945+05:30","closed_at":"2026-01-19T09:41:46.879945+05:30","close_reason":"Closed"}
{"id":"wt-5a7","title":"Phase 2: Project management","description":"Implement project registration and config:\n- wt projects: List registered projects\n- wt project add \u003cname\u003e \u003cpath\u003e: Register project\n- wt project config \u003cname\u003e: Edit config\n- Per-project merge_mode\n- Per-project test_env config\n- Project config file structure","status":"closed","priority":1,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:32:08.577058+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T09:55:55.573378+05:30","closed_at":"2026-01-19T09:55:55.573378+05:30","close_reason":"Phase 2 project management implemented","dependencies":[{"issue_id":"wt-5a7","depends_on_id":"wt-bqf","type":"blocks","created_at":"2026-01-19T09:32:20.95944+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-5i3","title":"Add merge conflict detection to wt","description":"Automatically rebase on main before PR creation, with Claude resolving conflicts.\n\n## Philosophy\nwt workers are Claude agents with full code context. They can intelligently resolve\nmost merge conflicts - not just pick ours/theirs, but understand both sides and merge\ncorrectly. Only escalate to humans when genuinely uncertain.\n\n## Workflow\n\n### Default flow (wt done)\n```\nwt done\n  → Fetch latest main\n  → Rebase session branch on main\n  → If conflicts:\n      → Claude analyzes both sides\n      → Claude resolves conflict\n      → Run tests to verify\n  → Tests pass → Create PR\n  → Tests fail or uncertain → Signal blocked/error\n```\n\n### Escalation\nWhen Claude can't confidently resolve:\n```bash\nwt signal blocked \"Merge conflict in auth.go - competing changes to login flow, need human decision\"\n```\n\n## Escalation Criteria\n\nClaude should AUTO-RESOLVE when:\n- Trivial conflicts (whitespace, imports, non-overlapping changes)\n- Additive changes (both sides added different things)\n- Clear supersession (main fixed a bug worker also fixed)\n- Tests pass after resolution\n\nClaude should ESCALATE when:\n\n### 1. Semantic conflicts - Same code, incompatible intent\n```\nMain: changed login() to use JWT\nWorker: changed login() to use sessions\n→ Can't pick both, need human decision on auth strategy\n```\n\n### 2. Deletion conflicts - One side deleted what the other modified\n```\nMain: deleted validateUser()\nWorker: added error handling to validateUser()\n→ Was deletion intentional? Need context.\n```\n\n### 3. Test failures after resolution\n```\n→ Claude resolved, but tests fail\n→ Resolution was wrong, human needs to review\n```\n\n### 4. Large surface area - Too many conflicting files\n```\n→ 10+ files with conflicts\n→ High risk of missing something, human should review\n```\n\n### 5. External dependencies changed - API/schema changes in main\n```\nMain: changed User struct fields\nWorker: added code using old User fields\n→ Need to understand new schema before adapting\n```\n\n### 6. Ambiguous business logic\n```\nMain: calculatePrice() now applies 10% discount\nWorker: calculatePrice() now applies bulk pricing\n→ Which pricing rule wins? Business decision.\n```\n\n### Escalation message format\nMessages should be specific and actionable:\n```bash\n# Bad\nwt signal blocked \"Merge conflict\"\n\n# Good  \nwt signal blocked \"Conflict in auth.go: main switched to JWT, I added session refresh. Which auth strategy?\"\n```\n\n## Implementation\n\n### 1. Update buildInitialPrompt (session_commands.go)\nAdd conflict awareness to worker's initial instructions:\n```\nWorkflow:\n1. Implement the task\n2. Commit your changes\n3. Run tests\n4. Run `wt done` (will auto-rebase on main)\n5. If conflicts: resolve trivial ones, escalate complex ones via `wt signal blocked`\n```\n\nBrief in initial prompt, detailed rules injected only when conflicts occur.\n\n### 2. Auto-rebase in wt done\n- Fetch origin/main before creating PR\n- Attempt rebase\n- On conflict: parse conflict markers, attempt resolution\n- Commit resolved files\n- Run tests if configured\n\n### 3. Conflict-time injection\nWhen conflicts detected, inject detailed context to worker:\n```\nMerge conflict in src/auth.go:\n\u003c\u003c\u003c\u003c\u003c\u003c\u003c HEAD (your changes)\n[code from worker branch]\n=======\n[code from main]\n\u003e\u003e\u003e\u003e\u003e\u003e\u003e main\n\nYour original intent: [from bead description]\n\nResolution rules:\n- Auto-resolve: trivial, additive, clear supersession\n- Escalate: semantic conflicts, deletions, business logic, large surface area\n- Run tests after resolving\n- Signal blocked if uncertain with specific reason\n```\n\n### 4. Project config\n```json\n{\n  \"auto_rebase\": true,       // default: rebase + resolve\n  \"auto_rebase\": \"prompt\",   // ask before rebasing\n  \"auto_rebase\": false       // skip rebase, PR may have conflicts\n}\n```\n\n### 5. Status indicators\n- `wt list`: Show \"↓3\" for branches behind main\n- `wt watch`: Highlight sessions needing rebase\n- Add `--json` support for conflict info\n\n## Commands\n```bash\nwt done              # Auto-rebase, resolve, PR (default)\nwt done --no-rebase  # Skip rebase, create PR as-is\nwt rebase            # Manual rebase from within worker\nwt rebase \u003csession\u003e  # Rebase a worker from hub\n```\n\n## Success Criteria\n- Workers automatically stay up-to-date with main\n- Most conflicts resolved without human intervention\n- Clear escalation path for ambiguous conflicts\n- Tests validate conflict resolution before PR\n- Escalation messages are specific and actionable","status":"open","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T18:33:32.941455+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T18:47:23.0094+05:30"}
{"id":"wt-661","title":"Phase 4: Merge workflow","description":"Implement merge modes:\n- wt done command\n- direct mode: merge to main, push\n- pr-auto mode: create PR, enable auto-merge\n- pr-review mode: create PR, wait for review\n- wt status in worker session\n- wt abandon command","status":"closed","priority":1,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:32:10.389818+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T11:13:14.801474+05:30","closed_at":"2026-01-19T11:13:14.801474+05:30","close_reason":"Closed","dependencies":[{"issue_id":"wt-661","depends_on_id":"wt-2ls","type":"blocks","created_at":"2026-01-19T09:32:21.140846+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-6b3","title":"Add missing integration tests for CLI commands","description":"## Missing Integration Tests\n\n### CLI Commands (high priority)\n- [ ] `wt done` - Test all merge modes (direct, pr-auto, pr-review)\n- [ ] `wt auto` - Autonomous batch processing workflow\n- [ ] `wt switch` - Session switching between active sessions\n- [ ] `wt status` - Session status display\n\n### CLI Commands (medium priority)\n- [ ] `wt watch` - Live dashboard (may need mock or timeout)\n- [ ] `wt pick` - Interactive picker (fzf fallback)\n- [ ] `wt doctor` - Diagnostics checks\n\n### Hook Execution\n- [ ] on_create hook execution during `wt new`\n- [ ] on_close hook execution during `wt close`\n\n### Error Paths\n- [ ] Invalid/missing config files\n- [ ] Corrupted state files\n- [ ] Merge failures (conflicts, PR creation errors)\n- [ ] Worktree already exists\n- [ ] Session already exists for bead\n- [ ] Project with active sessions (removal prevention)\n\n### Edge Cases\n- [ ] Multiple projects with cross-project session management\n- [ ] Bead close operations with actual bead closure\n- [ ] Test environment setup/teardown with health checks","status":"closed","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T17:18:02.855235+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T17:29:03.324573+05:30","closed_at":"2026-01-19T17:29:03.324573+05:30","close_reason":"Added integration tests for: status, switch, doctor, pick, done (direct merge), auto mode components, hooks, cross-project sessions, test environment setup/teardown, and error paths. All tests pass."}
{"id":"wt-6dc","title":"Improve error handling and edge cases","status":"closed","priority":3,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T13:50:56.109807+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T17:32:51.957636+05:30","closed_at":"2026-01-19T17:32:51.957636+05:30","close_reason":"Closed"}
{"id":"wt-6mv","title":"Add wt seance --spawn to resurrect past sessions","description":"Create new tmux session and resume Claude conversation from a past session. Workflow: find past session via seance, spawn new worker with that Claude context.","status":"open","priority":3,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T13:38:29.662672+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T13:38:29.662672+05:30"}
{"id":"wt-6uk","title":"Add tmux keybindings (wt pick, wt keys)","status":"closed","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T13:51:22.049002+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T13:51:27.612268+05:30","closed_at":"2026-01-19T13:51:27.612268+05:30","close_reason":"Implemented wt pick and wt keys commands"}
{"id":"wt-7fk","title":"Testing infrastructure","description":"Set up testing infrastructure:\n- Unit test framework (go test)\n- Integration test harness\n- Mock tmux sessions for unit tests\n- Temporary worktree directories\n- Test fixtures for beads\n- CI pipeline (GitHub Actions)\n- Test coverage reporting","status":"closed","priority":0,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:32:47.184961+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T09:50:02.228743+05:30","closed_at":"2026-01-19T09:50:02.228743+05:30","close_reason":"Testing infrastructure complete: unit tests, integration tests, CI pipeline, coverage reporting"}
{"id":"wt-8g0","title":"Add wt hub command for dedicated orchestration session","description":"Add a `wt hub` command that creates/attaches to a dedicated orchestration session.\n\n## Problem\nCurrently any session can act as a hub, but there's no dedicated hub concept. This leads to:\n- Mixing orchestration with direct work\n- Unclear handoff semantics (what state are we preserving?)\n- No persistent orchestration session that survives across Claude instances\n\n## Proposed Solution\n\n### `wt hub` command\n```bash\nwt hub              # Create or attach to hub session\nwt hub --detach     # Detach from hub (return to previous session)\nwt hub --status     # Show hub status without attaching\n```\n\n### Behavior\n1. Creates tmux session named \"hub\" if it doesn't exist\n2. Sets working directory to a neutral location (e.g., ~/.config/wt or ~)\n3. Launches Claude with hub-specific context\n4. If hub exists, attaches to it\n\n### Hub Session Characteristics\n- Never has a worktree (it's not a worker)\n- BEADS_DIR not set (uses bd's project detection or explicit project args)\n- Has access to all projects via `wt projects`\n- `wt handoff` works cleanly - preserves orchestration state only\n- `wt prime` recovers hub context on restart\n\n### Integration\n- `wt` from hub shows all workers across all projects\n- `wt new \u003cbead\u003e` spawns workers\n- `wt watch` monitors all workers\n- `wt handoff` cycles hub Claude while preserving state\n\n## Open Questions\n- Should hub auto-start Claude or just create the tmux session?\n- Should there be hub-specific hooks (on_hub_start, on_hub_handoff)?\n- How to handle multiple hubs (probably disallow - one hub per wt installation)?","status":"closed","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T17:36:52.778279+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T17:44:27.620374+05:30","closed_at":"2026-01-19T17:44:27.620374+05:30","close_reason":"Implemented wt hub command with tests, integration tests, and documentation"}
{"id":"wt-924","title":"Phase 5: Monitoring","description":"Implement session monitoring:\n- wt watch: Live dashboard with refresh\n- Idle detection from tmux pane output\n- Desktop notifications (macOS/Linux)\n- PR status in dashboard\n- Status indicators (working/idle/error)","status":"closed","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:32:11.593224+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T11:22:53.37686+05:30","closed_at":"2026-01-19T11:22:53.37686+05:30","close_reason":"Closed","dependencies":[{"issue_id":"wt-924","depends_on_id":"wt-661","type":"blocks","created_at":"2026-01-19T09:32:21.233276+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-9n6","title":"Integration tests","description":"End-to-end integration tests:\n- Full workflow: new -\u003e work -\u003e done -\u003e close\n- Multi-session scenarios\n- Project registration and switching\n- Test environment lifecycle (docker compose)\n- Merge mode flows (direct, pr-auto, pr-review)\n- Seance functionality\n- Error recovery scenarios\n- Cleanup verification\n\nUse real tmux, real git worktrees, real beads (in temp dirs).","status":"closed","priority":1,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:32:56.788809+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T12:23:06.799955+05:30","closed_at":"2026-01-19T12:23:06.799955+05:30","close_reason":"Added comprehensive integration tests covering events, merge, multi-session, seance, port offset allocation, and cleanup scenarios","dependencies":[{"issue_id":"wt-9n6","depends_on_id":"wt-wjo","type":"blocks","created_at":"2026-01-19T10:00:25.903074+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-be7","title":"Add --json flag for machine-readable output","description":"Add --json flag to wt commands for machine-readable output.\n\nUseful for:\n- LLM/AI agent consumption (skills, automation)\n- Scripting and pipelines\n- Integration with other tools\n\nCommands to support:\n- wt projects (list projects as JSON array)\n- wt list (list sessions as JSON array)\n- wt status (session status as JSON object)\n- wt ready (ready beads as JSON array)\n- wt beads (beads list as JSON array)\n\nImplementation:\n- Add global --json flag or per-command flag\n- When set, output structured JSON instead of styled text\n- Ensure consistent schema across commands","status":"closed","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T13:20:16.038604+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T18:08:18.440399+05:30","closed_at":"2026-01-20T18:08:18.440399+05:30","close_reason":"Implemented --json flag for list, projects, ready, beads, and status commands"}
{"id":"wt-bqf","title":"Phase 1: Core commands (list, new, switch, kill, close)","description":"Implement core wt commands:\n- wt / wt list: List all active sessions\n- wt new \u003cbead\u003e: Spawn worker with namepool\n- wt \u003cname\u003e: Switch to session\n- wt kill \u003cname\u003e: Terminate session\n- wt close \u003cname\u003e: Complete + cleanup\n- Session state tracking (sessions.json)\n- Namepool management\n- BEADS_DIR per session","status":"closed","priority":0,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:31:51.606393+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T09:42:56.785158+05:30","closed_at":"2026-01-19T09:42:56.785158+05:30","close_reason":"Implemented all Phase 1 core commands"}
{"id":"wt-c7s","title":"Add wt task for non-bead sessions with completion conditions","description":"Hub can spawn lightweight task sessions (not beads) for transient work like MCP queries, PR conflict resolution, quick investigations. Tasks have explicit completion conditions (pr-merged, pushed, tests-pass, user-confirms). wt done behavior varies by condition. Beads remain the default for strategic work.","status":"open","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T19:36:24.080331+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T19:36:24.080331+05:30"}
{"id":"wt-crn","title":"Add Claude hook to run go fmt before git commit","description":"Add a Claude Code hook that automatically runs 'go fmt ./...' before git commit/push operations. This ensures code is always formatted before being committed.\n\nHook should:\n- Trigger on PreToolUse for Bash tool when command contains 'git commit' or 'git push'\n- Run 'go fmt ./...' and 'go vet ./...'\n- Block commit if formatting changes files (user should review)\n- Could also run tests optionally\n\nReference: Claude Code hooks documentation for PreToolUse hooks.","status":"open","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T20:06:03.227232+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T20:06:03.227232+05:30"}
{"id":"wt-cyr","title":"Allow creating bead from within a task session","description":"When a task session discovers something that needs tracked work (e.g., MCP query reveals a bug), user should be able to create a bead from within the session. Could be wt promote or wt bead create. The new bead captures context from the current task.","status":"open","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T19:36:26.552341+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T19:36:26.552341+05:30","dependencies":[{"issue_id":"wt-cyr","depends_on_id":"wt-c7s","type":"blocks","created_at":"2026-01-20T19:36:36.411133+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-cyu","title":"Add MkDocs Material documentation site for wt","description":"Set up MkDocs with Material theme for GitHub Pages hosting. Create documentation covering: installation, getting started, all commands, concepts (worktrees, sessions, beads integration), and examples.","status":"closed","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T19:03:30.87063+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T19:12:31.739559+05:30","closed_at":"2026-01-20T19:12:31.739559+05:30","close_reason":"Documentation site set up with MkDocs Material theme. Created comprehensive docs covering installation, concepts, commands, guides, and reference. Added GitHub Actions workflow for automatic deployment to GitHub Pages."}
{"id":"wt-d1b","title":"Add wt events command with event logging","description":"Implement event logging for Claude Code integration.\n\nCommands:\n- wt events: show recent events\n- wt events --tail: follow mode\n- wt events --since 5m: filter by time\n- wt events --new --clear: show new events and clear (for hooks)\n\nEvents logged to ~/.config/wt/events.log by:\n- wt done (session completed)\n- wt close (session closed)\n- wt kill (session killed)\n- PR status changes (if detected)\n\nEvent format (JSON lines):\n{\"time\":\"...\",\"type\":\"session_ended\",\"session\":\"pine\",\"bead\":\"wt-661\"}\n\nIntegration with Claude Code hooks:\n- Add to prompt-submit hook to show new events in conversation\n- Example: {\"hooks\":{\"prompt-submit\":[\"wt events --new --clear\"]}}","status":"closed","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T11:55:34.603691+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T13:18:43.74182+05:30","closed_at":"2026-01-19T13:18:43.74182+05:30","close_reason":"Implemented wt events command with --tail, --since, --new, --clear flags for Claude Code hook integration"}
{"id":"wt-e6j","title":"Add wt doctor command","description":"wt doctor command to diagnose setup issues:\n- tmux installed and running\n- git available\n- beads initialized (.beads/ exists)\n- worktree base directory exists/writable\n- config file valid\n- orphaned worktrees/sessions detection","status":"closed","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T13:02:54.52293+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T13:26:08.966555+05:30","closed_at":"2026-01-19T13:26:08.966555+05:30","close_reason":"Implemented wt doctor command with checks for tmux, git, beads, worktree root, config, and orphan detection"}
{"id":"wt-edt","title":"Add shell completions (bash/zsh/fish)","status":"closed","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T13:50:52.141895+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T14:00:35.04434+05:30","closed_at":"2026-01-19T14:00:35.04434+05:30","close_reason":"Implemented wt completion command for bash/zsh/fish"}
{"id":"wt-f3p","title":"Add wt ready command with optional project filter","description":"Implement wt ready command that lists beads ready to work on (no blockers).\n\nFeatures:\n- List ready beads from bd ready\n- Optional project filter: wt ready [project]\n- Show bead ID, title, priority, project\n- Add bead.Ready() function to parse bd ready output\n\nThis enables users to see available work without leaving wt context.","status":"closed","priority":1,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T10:34:59.558996+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T11:04:41.72646+05:30","closed_at":"2026-01-19T11:04:41.72646+05:30","close_reason":"Closed"}
{"id":"wt-fir","title":"Add fuzzy matching to wt seance","description":"Make wt seance name argument fuzzy:\n- Exact session name match\n- Match by bead ID\n- Match by project prefix\n\nExample: wt seance wt-661 finds session that worked on bead wt-661","status":"closed","priority":3,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T12:12:35.879094+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T13:39:08.222199+05:30","closed_at":"2026-01-19T13:39:08.222199+05:30","close_reason":"Implemented fuzzy matching: session name \u003e bead ID \u003e project"}
{"id":"wt-ftg","title":"Claude skill: /wt","description":"Create Claude Code skill for wt:\n- Skill file at ~/.claude/skills/wt.md\n- Hub commands (list, new, switch, watch, close)\n- Worker commands (status, done, close)\n- Seance commands\n- Workflow examples\n- Install as part of wt install command","status":"closed","priority":1,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:41:22.955866+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T12:59:30.573102+05:30","closed_at":"2026-01-19T12:59:30.573102+05:30","close_reason":"Skill implemented and installed at ~/.claude/skills/wt","dependencies":[{"issue_id":"wt-ftg","depends_on_id":"wt-bqf","type":"blocks","created_at":"2026-01-19T09:41:28.427271+05:30","created_by":"Lakshmi Narasimhan"},{"issue_id":"wt-ftg","depends_on_id":"wt-wjo","type":"blocks","created_at":"2026-01-19T10:00:25.830325+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-gek","title":"Context recovery after session compaction","description":"When a worker session runs out of context and Claude compacts, the worker loses context about the bead/task and what it was doing. Implement context recovery:\n\n1. Detect compaction occurred (hook or marker file)\n2. Auto-run wt prime to reinject: bead details, session info, work summary (git diff/log)\n3. Optional: checkpoint progress to .wt/checkpoint.md before compaction\n4. Notify hub that worker compacted\n\nCould leverage bd prime mechanics. Critical for long-running workers.","status":"open","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T19:39:48.093216+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T19:39:48.093216+05:30"}
{"id":"wt-k0d","title":"Add project-targeting commands for hub multi-project grooming","description":"Add wt create, wt ready, and other commands that can target specific projects from the hub without changing directories. Enables hub-based grooming across multiple registered projects while keeping each project's .beads/ as source of truth.","status":"closed","priority":1,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T12:44:55.37821+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T12:48:26.034613+05:30","closed_at":"2026-01-19T12:48:26.034613+05:30","close_reason":"Implemented project-targeting commands: wt create, wt beads, enhanced wt ready"}
{"id":"wt-la5","title":"Phase 7: Polish","description":"Final polish:\n- Tmux keybindings (C-b n/p/h)\n- Shell completions (bash/zsh/fish)\n- Error handling and edge cases\n- Documentation and examples\n- go install support\n- Versioning (wt version command, -ldflags injection, CHANGELOG.md)","status":"in_progress","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:32:14.474762+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T13:42:02.408174+05:30","dependencies":[{"issue_id":"wt-la5","depends_on_id":"wt-wjo","type":"blocks","created_at":"2026-01-19T09:32:21.401169+05:30","created_by":"Lakshmi Narasimhan"},{"issue_id":"wt-la5","depends_on_id":"wt-e6j","type":"blocks","created_at":"2026-01-19T13:03:06.407874+05:30","created_by":"Lakshmi Narasimhan"},{"issue_id":"wt-la5","depends_on_id":"wt-edt","type":"blocks","created_at":"2026-01-19T13:51:15.462995+05:30","created_by":"Lakshmi Narasimhan"},{"issue_id":"wt-la5","depends_on_id":"wt-nnn","type":"blocks","created_at":"2026-01-19T13:51:15.596469+05:30","created_by":"Lakshmi Narasimhan"},{"issue_id":"wt-la5","depends_on_id":"wt-uhf","type":"blocks","created_at":"2026-01-19T13:51:15.732662+05:30","created_by":"Lakshmi Narasimhan"},{"issue_id":"wt-la5","depends_on_id":"wt-6dc","type":"blocks","created_at":"2026-01-19T13:51:16.0671+05:30","created_by":"Lakshmi Narasimhan"},{"issue_id":"wt-la5","depends_on_id":"wt-6uk","type":"blocks","created_at":"2026-01-19T13:51:27.470836+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-nnn","title":"Add wt version command with ldflags injection","status":"closed","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T13:50:53.326818+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T14:03:35.024306+05:30","closed_at":"2026-01-19T14:03:35.024306+05:30","close_reason":"Implemented wt version command with ldflags injection"}
{"id":"wt-np9","title":"Add wt auto command for autonomous batch processing","description":"Implement wt auto command that processes ready beads sequentially overnight.\n\n## Flow\n1. Acquire lock (~/.config/wt/auto.lock) - exit if already running\n2. Get ready beads from bd ready (optional --project filter)\n3. For each bead:\n   - wt new \u003cbead\u003e --no-switch\n   - Run configured claude command with prompt template\n   - Wait for session to die or timeout\n   - Merge based on --merge-mode flag\n   - Log result to ~/.config/wt/logs/auto-\u003ctimestamp\u003e.log\n4. Check for stop signal between beads\n5. Pick next ready bead, repeat until done\n6. Release lock\n\n## CLI Flags\n- --project=\u003cname\u003e: filter to specific project\n- --merge-mode=\u003cdirect|pr-review|pr-auto|none\u003e: override project default\n- --dry-run: show what would run without executing\n- --check: validate beads are well-groomed before running\n- --stop: signal running wt auto to stop after current bead\n- --timeout=\u003cminutes\u003e: override per-bead timeout (default 30)\n\n## Project Config (auto section)\n```json\n{\n  \"auto\": {\n    \"command\": \"claude --dangerously-skip-permissions\",\n    \"timeout_minutes\": 30,\n    \"prompt_template\": \"Work on bead {BEAD_ID}: {TITLE}...\"\n  }\n}\n```\n\n## Template Variables\n{BEAD_ID}, {TITLE}, {DESCRIPTION}, {SESSION}, {PROJECT}, {WORKTREE}\n\n## Stopping\n- Ctrl+C: current session keeps running (orphaned)\n- --stop flag or touch ~/.config/wt/stop-auto: graceful stop after current bead\n- Resume: just run wt auto again, bd ready shows remaining work\n\n## Lock File\n- ~/.config/wt/auto.lock prevents multiple wt auto instances\n- Contains: PID, start time, project filter\n- --force to override (risky)\n\n## Logging\n- ~/.config/wt/logs/auto-\u003ctimestamp\u003e.log\n- Per-bead: start time, bead ID, outcome (success/fail/timeout), duration\n\nDepends on wt-f3p (wt ready) and wt-661 (merge workflow).","status":"closed","priority":1,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T10:55:37.961718+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T13:08:21.367207+05:30","closed_at":"2026-01-19T13:08:21.367207+05:30","close_reason":"Implemented wt auto command with lock file, logging, dry-run, check, and stop signal handling","dependencies":[{"issue_id":"wt-np9","depends_on_id":"wt-f3p","type":"blocks","created_at":"2026-01-19T10:55:44.367793+05:30","created_by":"Lakshmi Narasimhan"},{"issue_id":"wt-np9","depends_on_id":"wt-661","type":"blocks","created_at":"2026-01-19T10:56:48.904879+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-pgj","title":"Fix all list commands to use TUI table component","status":"closed","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T18:02:24.342532+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T18:29:43.263757+05:30","closed_at":"2026-01-20T18:29:43.263757+05:30","close_reason":"Updated events and seance commands to use TUI table component"}
{"id":"wt-qxd","title":"Search inside past session transcripts","description":"Allow searching through Claude conversation history:\n\nwt seance --search 'auth bug fix'\n\nImplementation options:\n1. Locate Claude transcript files (~/.claude/projects/...)\n2. Parse JSONL or markdown transcripts\n3. Grep through content\n4. Return matching sessions with context\n\nCould also support:\n- Semantic search (embeddings)\n- Full-text indexing\n- Preview of matching content\n\nBigger scope - investigate Claude Code transcript storage first.","status":"open","priority":3,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T12:12:44.62056+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T12:12:44.62056+05:30"}
{"id":"wt-rzz","title":"Session completion not triggering audio alert","description":"Session completion notifications don't play audio. Root cause: internal/monitor/notify.go:21 uses AppleScript display notification without sound name parameter. Fix: Add 'sound name \"default\"' to the AppleScript. For Linux, consider --urgency flag for notify-send.","status":"closed","priority":2,"issue_type":"bug","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T19:37:08.518842+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T19:38:26.950051+05:30","closed_at":"2026-01-20T19:38:26.950051+05:30","close_reason":"Added sound name parameter to macOS notification"}
{"id":"wt-ss3","title":"Add handoff command for hub session persistence","description":"## Overview\nAllow hub sessions to survive compaction and session restarts by implementing a handoff command that cycles to a fresh Claude instance while preserving work context.\n\n## Inspiration\nBased on gastown's handoff system (~/claude-tools/gastown/internal/cmd/handoff.go)\n\n## Commands to Implement\n\n### wt handoff\n- `wt handoff` - Hand off with auto-collected context (ready beads, in-progress work)\n- `wt handoff -m \"notes\"` - Include custom message/context\n- `wt handoff -c` - Auto-collect state (ready beads, active sessions, etc.)\n\n### wt prime\n- Startup context injection command\n- Detects post-handoff state and warns against re-running handoff\n- Injects handoff content from previous session\n- Integrates with Claude Code SessionStart hook\n\n## Persistence Mechanisms\n\n1. **Handoff Bead** (pinned)\n   - Stores hub context in .beads/issues.jsonl\n   - Title: \"Hub Handoff\" with status=pinned\n   - Never auto-closed or compacted\n\n2. **Handoff Marker** (.wt/handoff_marker)\n   - Plain text file with previous session name\n   - Written before respawn, removed by wt prime\n   - Prevents handoff loop bug\n\n## Implementation Flow\n\n```\nwt handoff -c\n  ├─ Collect state (bd ready, wt list, in-progress beads)\n  ├─ Update/create pinned handoff bead\n  ├─ Write marker file\n  ├─ Clear tmux history\n  └─ tmux respawn-pane with fresh Claude\n\nwt prime (on new session start)\n  ├─ Check for handoff marker\n  ├─ If found: output warning + inject handoff content\n  ├─ Remove marker file\n  └─ Run bd prime for beads context\n```\n\n## Files to Create/Modify\n\n- cmd/wt/main.go - Add handoff and prime commands\n- internal/handoff/handoff.go - Core handoff logic\n- internal/handoff/prime.go - Startup context injection\n- .claude/settings.json example - SessionStart hook config","status":"closed","priority":2,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T15:31:30.197962+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T15:43:06.573482+05:30","closed_at":"2026-01-19T15:43:06.573482+05:30","close_reason":"Implemented handoff and prime commands"}
{"id":"wt-uhf","title":"Add go install support and documentation","status":"closed","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T13:50:54.887824+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T14:39:48.994038+05:30","closed_at":"2026-01-19T14:39:48.994038+05:30","close_reason":"Added npm package, go install support, themed namepool (6 themes)"}
{"id":"wt-wjo","title":"Phase 6: Seance","description":"Implement seance (talk to past sessions):\n- Event logging (session_start, session_end with IDs)\n- wt seance: List recent sessions\n- wt seance \u003cname\u003e: Fork and talk to past session\n- wt seance \u003cname\u003e -p 'question': One-shot query\n- Session ID capture from Claude output\n- events.jsonl persistence","status":"closed","priority":2,"issue_type":"task","owner":"badri.dilbert@gmail.com","created_at":"2026-01-19T09:32:12.789277+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-19T12:09:18.675959+05:30","closed_at":"2026-01-19T12:09:18.675959+05:30","close_reason":"Closed","dependencies":[{"issue_id":"wt-wjo","depends_on_id":"wt-924","type":"blocks","created_at":"2026-01-19T09:32:21.316727+05:30","created_by":"Lakshmi Narasimhan"}]}
{"id":"wt-xu8","title":"Show bead/task 1-liner in wt watch and session picker","description":"wt watch and C-b s session picker should show a 1-liner description of what each worker is doing (bead title or task description) so user understands at a glance.","status":"closed","priority":3,"issue_type":"feature","owner":"badri.dilbert@gmail.com","created_at":"2026-01-20T19:36:24.904789+05:30","created_by":"Lakshmi Narasimhan","updated_at":"2026-01-20T19:44:37.28403+05:30","closed_at":"2026-01-20T19:44:37.28403+05:30","close_reason":"Added bead title display to wt list, wt watch, and session picker (wt pick). Users can now see what each session is working on at a glance."}
